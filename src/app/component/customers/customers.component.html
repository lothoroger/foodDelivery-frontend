<div class="container-fluid py-3">
    <div class="row w-100 m-0">
        <div class="col">
            <div class="card shadow-sm">
                <div class="card-header bg-white border-0">
                    <div class="row">
                        <div class="col-12 col-sm-6">
                            <h4>Food Delivery Customers</h4><button class="btn btn-md btn-outline-primary" (click)="openModal(custModal,null)"><i id="myicon" clas="fa fa-user"></i>Add New
                                Customer</button>
                        </div>
                        
                    </div>

                </div>
                <div class="table-responsive">
                    <table class="table table-flush m-0">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">First</th>
                                <th scope="col">Last</th>
                                <th scope="col">Email</th>
                                <th scope="col">Password</th>
                                <th scope="col">Address</th>
                                <th scope="col">City</th>
                                <th scope="col">State</th>
                                <th scope="col">Zip</th>
                                <th scope="col">Role</th>
                                <th scope="col">Action</th>

                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let cust of customers">

                                <th scope="row">{{ cust["id"] }}</th>
                                <td> {{ cust["firstname"] }}</td>
                                <td> {{ cust["lastname"] }} </td>
                                <td> {{ cust["email"] }} </td>
                                <td> {{ cust["password"] }} </td>
                                <td> {{ cust["address"] }}</td>
                                <td> {{ cust["city"] }} </td>
                                <td> {{ cust["state"] }} </td>
                                <td> {{ cust["zip"] }} </td>
                                <td> {{ cust["role"] }} </td>
                                <td>
                                   
                                    <button type="button" class="btn btn-sm btn-primary" (click)="openModal(custModal,cust)">Update Customer</button>
                                    &nbsp;&nbsp; <button type="button" class="btn btn-sm btn-warning"
                                        (click)="deleteUser(cust.id)">Delete
                                        Customer</button> 
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<ng-template #custModal let-modal class="modal-backdrop">
    <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLabel">Customer {{ updation ? 'Update' : 'Create' }}</h4>
        <button type="button" class="btn-close" aria-label="Close" id="closeAddNewStaffModal" #closeAddNewStaffModal
            (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="custForm" (ngSubmit)="custModal">
            <div class="row">
                <div class="col-12 col-sm-6">
                    <div class="form-group m-0 mb-2">
                        <label for="name" class="text-sm">First Name</label>
                        <input type="text" formControlName="firstname" class="form-control">
                    </div>
                    <div class="form-group m-0 mb-2">
                        <label for="name" class="text-sm">Last Name</label>
                        <input type="text" formControlName="lastname" class="form-control">
                    </div>
                    <div class="form-group m-0 mb-2">
                        <label for="name" class="text-sm">eMail</label>
                        <input type="text" formControlName="email" class="form-control" placeholder="e@gmail.com"
                            required>
                    </div>
                    <div class="form-group m-0 mb-2">
                        <label for="name" class="text-sm">Password</label>
                        <input type="text" formControlName="password" class="form-control" placeholder="" required>
                    </div>
                    <div class="form-group m-0 mb-2">
                        <label for="name" class="text-sm">Phone</label>
                        <input type="text" formControlName="phone" class="form-control" placeholder="(555) 555-5555"
                           >
                    </div>

                <div class="col-12 col-sm-6">
                    <div class="form-group m-0 mb-2">
                        <label for="description" class="text-sm">Delivery Address:</label>
                        <div class="form-group m-0 mb-2">
                            <label for="address" class="text-sm">Address</label>
                            <input type="text" formControlName="address" class="form-control" placeholder="" required>
                        </div>
                        <div class="form-group m-0 mb-2">
                            <label for="city" class="text-sm">City</label>
                            <input type="text" name="city" formControlName="city" class="form-control" placeholder=""
                                required>
                        </div>
                        <div class="form-group m-0 mb-2">
                            <label for="state" class="text-sm">State</label>
                            <input type="text" name="state" formControlName="state" class="form-control" placeholder=""
                                required>
                        </div>
                        <div class="form-group m-0 mb-2">
                            <label for="zip" class="text-sm">ZipCode</label>
                            <input type="text" name="zip" formControlName="zip" class="form-control" placeholder=""
                                required>
                            <input type="hidden" name="role" value="Customer" formControlName="role">
                        </div>
                    </div>

                    <div class="col-12 px-0">


                        <div class="row mt-3">
                            <div class="col-12 my-2">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex flex-column">
                                        <p class="m-0 mb-1">


                                        </p>

                                    </div>
                                    <div class="d-flex align-items-center">


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
    </div>

</form> 
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default btn-sm" (click)="modal.dismiss('')">
        Cancel
    </button>
    <button type="button" class="btn btn-primary" (click)="saveUser()">Save</button> 
</div>

</ng-template>


<!-- 
<ng-template #orderModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Customer Orders {{ 'updation' ? 'Update' : 'Creation' }}</h4>
        <button type="button" class="btn-close" aria-label="Close" id="closeAddNewStaffModal" #closeAddNewStaffModal
            (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <form [formGroup]="orderForm" ngNativeValidate>
        <div class="modal-body">


            <div class="table-responsive">
                <table class="table table-flush m-0">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">First</th>
                            <th scope="col">Last</th>
                            <th scope="col">Email</th>
                            <th scope="col">Password</th>
                            <th scope="col">Phone</th>
                            <th scope="col">Address</th>
                            <th scope="col">City</th>
                            <th scope="col">State</th>
                            <th scope="col">Zip</th>
                            <th scope="col">Orders</th>
                            <th scope="col">Action</th>

                        </tr>
                    </thead>
                    <tbody>

                        <tr *ngFor="let order of Orders">

                            <th scope="row">1</th>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required></td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required></td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required> </td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required></td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required> </td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required></td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required> </td>
                            <td> <input type="text" name="customerLastName" formControlName="customerLastName"
                                    class="form-control" placeholder="lastName" required> </td>
                            <td> {{ cust["zip"] }} </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-dark" (click)="openModal(orderModal)">View
                                    Orders</button>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-primary"
                                    (click)="openModal(custModal)">Update Customer</button>
                                &nbsp;&nbsp; <button type="button" class="btn btn-sm btn-warning">Delete
                                    Customer</button>

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>










            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" (click)="modal.dismiss('')">
                    Cancel
                </button>
                <button type="submit" class="btn btn-dark btn-sm">
                    Save

                </button>
            </div>
        </div>
    </form>

</ng-template> -->